// Code generated by Speakeasy (https://speakeasy.com). DO NOT EDIT.

package shared

import (
	"github.com/kong/terraform-provider-konnect/v3/internal/sdk/internal/utils"
)

// EventGatewayProduceSchemaValidationPolicySchemaRegistryConfig - The configuration of the produce schema validation policy when using a schema registry.
type EventGatewayProduceSchemaValidationPolicySchemaRegistryConfig struct {
	SchemaRegistry *SchemaRegistryReference `json:"schema_registry,omitempty"`
	// Defines a behavior when record key is not valid.
	// * reject - rejects a batch for topic partition. Only available for produce.
	// * mark - marks a record with kong/server header and client ID value
	//   to help to identify the clients violating schema.
	//
	KeyValidationAction *ProduceKeyValidationAction `json:"key_validation_action,omitempty"`
	// Defines a behavior when record value is not valid.
	// * reject - rejects a batch for topic partition. Only available for produce.
	// * mark - marks a record with kong/server header and client ID value
	//   to help to identify the clients violating schema.
	//
	ValueValidationAction *ProduceValueValidationAction `json:"value_validation_action,omitempty"`
	type_                 string                        `const:"confluent_schema_registry" json:"type"`
}

func (e EventGatewayProduceSchemaValidationPolicySchemaRegistryConfig) MarshalJSON() ([]byte, error) {
	return utils.MarshalJSON(e, "", false)
}

func (e *EventGatewayProduceSchemaValidationPolicySchemaRegistryConfig) UnmarshalJSON(data []byte) error {
	if err := utils.UnmarshalJSON(data, &e, "", false, []string{"type"}); err != nil {
		return err
	}
	return nil
}

func (e *EventGatewayProduceSchemaValidationPolicySchemaRegistryConfig) GetSchemaRegistry() *SchemaRegistryReference {
	if e == nil {
		return nil
	}
	return e.SchemaRegistry
}

func (e *EventGatewayProduceSchemaValidationPolicySchemaRegistryConfig) GetKeyValidationAction() *ProduceKeyValidationAction {
	if e == nil {
		return nil
	}
	return e.KeyValidationAction
}

func (e *EventGatewayProduceSchemaValidationPolicySchemaRegistryConfig) GetValueValidationAction() *ProduceValueValidationAction {
	if e == nil {
		return nil
	}
	return e.ValueValidationAction
}

func (e *EventGatewayProduceSchemaValidationPolicySchemaRegistryConfig) GetType() string {
	return "confluent_schema_registry"
}
