// Code generated by Speakeasy (https://speakeasy.com). DO NOT EDIT.

package shared

import (
	"encoding/json"
	"fmt"
	"github.com/kong/terraform-provider-konnect/v3/internal/sdk/internal/utils"
	"time"
)

// ListPortalsResponseDefaultAPIVisibility - The default visibility of APIs in the portal. If set to `public`, newly published APIs are visible to unauthenticated developers. If set to `private`, newly published APIs are hidden from unauthenticated developers.
type ListPortalsResponseDefaultAPIVisibility string

const (
	ListPortalsResponseDefaultAPIVisibilityPublic  ListPortalsResponseDefaultAPIVisibility = "public"
	ListPortalsResponseDefaultAPIVisibilityPrivate ListPortalsResponseDefaultAPIVisibility = "private"
)

func (e ListPortalsResponseDefaultAPIVisibility) ToPointer() *ListPortalsResponseDefaultAPIVisibility {
	return &e
}
func (e *ListPortalsResponseDefaultAPIVisibility) UnmarshalJSON(data []byte) error {
	var v string
	if err := json.Unmarshal(data, &v); err != nil {
		return err
	}
	switch v {
	case "public":
		fallthrough
	case "private":
		*e = ListPortalsResponseDefaultAPIVisibility(v)
		return nil
	default:
		return fmt.Errorf("invalid value for ListPortalsResponseDefaultAPIVisibility: %v", v)
	}
}

// ListPortalsResponseDefaultPageVisibility - The default visibility of pages in the portal. If set to `public`, newly created pages are visible to unauthenticated developers. If set to `private`, newly created pages are hidden from unauthenticated developers.
type ListPortalsResponseDefaultPageVisibility string

const (
	ListPortalsResponseDefaultPageVisibilityPublic  ListPortalsResponseDefaultPageVisibility = "public"
	ListPortalsResponseDefaultPageVisibilityPrivate ListPortalsResponseDefaultPageVisibility = "private"
)

func (e ListPortalsResponseDefaultPageVisibility) ToPointer() *ListPortalsResponseDefaultPageVisibility {
	return &e
}
func (e *ListPortalsResponseDefaultPageVisibility) UnmarshalJSON(data []byte) error {
	var v string
	if err := json.Unmarshal(data, &v); err != nil {
		return err
	}
	switch v {
	case "public":
		fallthrough
	case "private":
		*e = ListPortalsResponseDefaultPageVisibility(v)
		return nil
	default:
		return fmt.Errorf("invalid value for ListPortalsResponseDefaultPageVisibility: %v", v)
	}
}

type Portal struct {
	// Contains a unique identifier used for this resource.
	ID string `json:"id"`
	// An ISO-8601 timestamp representation of entity creation date.
	CreatedAt time.Time `json:"created_at"`
	// An ISO-8601 timestamp representation of entity update date.
	UpdatedAt time.Time `json:"updated_at"`
	// The name of the portal, used to distinguish it from other portals. Name must be unique.
	Name string `json:"name"`
	// The display name of the portal. This value will be the portal's `name` in Portal API.
	DisplayName string `json:"display_name"`
	// A description of the portal.
	Description *string `default:"null" json:"description"`
	// Whether the portal supports developer authentication. If disabled, developers cannot register for accounts or create applications.
	AuthenticationEnabled *bool `default:"true" json:"authentication_enabled"`
	// Whether the portal resources are protected by Role Based Access Control (RBAC). If enabled, developers view or register for APIs until unless assigned to teams with access to view and consume specific APIs. Authentication must be enabled to use RBAC.
	RbacEnabled *bool `default:"false" json:"rbac_enabled"`
	// The default visibility of APIs in the portal. If set to `public`, newly published APIs are visible to unauthenticated developers. If set to `private`, newly published APIs are hidden from unauthenticated developers.
	DefaultAPIVisibility ListPortalsResponseDefaultAPIVisibility `json:"default_api_visibility"`
	// The default visibility of pages in the portal. If set to `public`, newly created pages are visible to unauthenticated developers. If set to `private`, newly created pages are hidden from unauthenticated developers.
	DefaultPageVisibility ListPortalsResponseDefaultPageVisibility `json:"default_page_visibility"`
	// The default authentication strategy for APIs published to the portal. Newly published APIs will use this authentication strategy unless overridden during publication. If set to `null`, API publications will not use an authentication strategy unless set during publication.
	DefaultApplicationAuthStrategyID *string `default:"null" json:"default_application_auth_strategy_id"`
	// Whether developer account registrations will be automatically approved, or if they will be set to pending until approved by an admin.
	AutoApproveDevelopers *bool `default:"false" json:"auto_approve_developers"`
	// Whether requests from applications to register for APIs will be automatically approved, or if they will be set to pending until approved by an admin.
	AutoApproveApplications *bool `default:"false" json:"auto_approve_applications"`
	// The domain assigned to the portal by Konnect. This is the default place to access the portal and its API if not using a `custom_domain``.
	DefaultDomain string `json:"default_domain"`
	// The canonical domain of the developer portal
	CanonicalDomain string `json:"canonical_domain"`
	// Labels store metadata of an entity that can be used for filtering an entity list or for searching across entity types.
	//
	// Keys must be of length 1-63 characters, and cannot start with "kong", "konnect", "mesh", "kic", or "_".
	//
	Labels map[string]*string `json:"labels,omitempty"`
}

func (p Portal) MarshalJSON() ([]byte, error) {
	return utils.MarshalJSON(p, "", false)
}

func (p *Portal) UnmarshalJSON(data []byte) error {
	if err := utils.UnmarshalJSON(data, &p, "", false, []string{"id", "created_at", "updated_at", "name", "display_name", "default_api_visibility", "default_page_visibility", "default_domain", "canonical_domain"}); err != nil {
		return err
	}
	return nil
}

func (p *Portal) GetID() string {
	if p == nil {
		return ""
	}
	return p.ID
}

func (p *Portal) GetCreatedAt() time.Time {
	if p == nil {
		return time.Time{}
	}
	return p.CreatedAt
}

func (p *Portal) GetUpdatedAt() time.Time {
	if p == nil {
		return time.Time{}
	}
	return p.UpdatedAt
}

func (p *Portal) GetName() string {
	if p == nil {
		return ""
	}
	return p.Name
}

func (p *Portal) GetDisplayName() string {
	if p == nil {
		return ""
	}
	return p.DisplayName
}

func (p *Portal) GetDescription() *string {
	if p == nil {
		return nil
	}
	return p.Description
}

func (p *Portal) GetAuthenticationEnabled() *bool {
	if p == nil {
		return nil
	}
	return p.AuthenticationEnabled
}

func (p *Portal) GetRbacEnabled() *bool {
	if p == nil {
		return nil
	}
	return p.RbacEnabled
}

func (p *Portal) GetDefaultAPIVisibility() ListPortalsResponseDefaultAPIVisibility {
	if p == nil {
		return ListPortalsResponseDefaultAPIVisibility("")
	}
	return p.DefaultAPIVisibility
}

func (p *Portal) GetDefaultPageVisibility() ListPortalsResponseDefaultPageVisibility {
	if p == nil {
		return ListPortalsResponseDefaultPageVisibility("")
	}
	return p.DefaultPageVisibility
}

func (p *Portal) GetDefaultApplicationAuthStrategyID() *string {
	if p == nil {
		return nil
	}
	return p.DefaultApplicationAuthStrategyID
}

func (p *Portal) GetAutoApproveDevelopers() *bool {
	if p == nil {
		return nil
	}
	return p.AutoApproveDevelopers
}

func (p *Portal) GetAutoApproveApplications() *bool {
	if p == nil {
		return nil
	}
	return p.AutoApproveApplications
}

func (p *Portal) GetDefaultDomain() string {
	if p == nil {
		return ""
	}
	return p.DefaultDomain
}

func (p *Portal) GetCanonicalDomain() string {
	if p == nil {
		return ""
	}
	return p.CanonicalDomain
}

func (p *Portal) GetLabels() map[string]*string {
	if p == nil {
		return nil
	}
	return p.Labels
}

// ListPortalsResponse - A paginated list of portals in the current region of an organization.
type ListPortalsResponse struct {
	Data []Portal `json:"data"`
	// returns the pagination information
	Meta PaginatedMeta `json:"meta"`
}

func (l *ListPortalsResponse) GetData() []Portal {
	if l == nil {
		return []Portal{}
	}
	return l.Data
}

func (l *ListPortalsResponse) GetMeta() PaginatedMeta {
	if l == nil {
		return PaginatedMeta{}
	}
	return l.Meta
}
