---
# generated by https://github.com/hashicorp/terraform-plugin-docs
page_title: "konnect_mesh_external_service Resource - terraform-provider-konnect"
subcategory: ""
description: |-
  MeshExternalService Resource
---

# konnect_mesh_external_service (Resource)

MeshExternalService Resource

## Example Usage

```terraform
resource "konnect_mesh_external_service" "my_meshexternalservice" {
  cp_id = "bf138ba2-c9b1-4229-b268-04d9d8a6410b"
  labels = {
    key = "value",
  }
  mesh = "...my_mesh..."
  name = "...my_name..."
  spec = {
    endpoints = [
      {
        address = "example.com"
        port    = 9478
      }
    ]
    extension = {
      config = "{ \"see\": \"documentation\" }"
      type   = "...my_type..."
    }
    match = {
      port     = 1444
      protocol = "tcp"
      type     = "HostnameGenerator"
    }
    tls = {
      allow_renegotiation = false
      enabled             = true
      verification = {
        ca_cert = {
          inline        = "...my_inline..."
          inline_string = "...my_inline_string..."
          secret        = "...my_secret..."
        }
        client_cert = {
          inline        = "...my_inline..."
          inline_string = "...my_inline_string..."
          secret        = "...my_secret..."
        }
        client_key = {
          inline        = "...my_inline..."
          inline_string = "...my_inline_string..."
          secret        = "...my_secret..."
        }
        mode        = "SkipAll"
        server_name = "...my_server_name..."
        subject_alt_names = [
          {
            type  = "Exact"
            value = "...my_value..."
          }
        ]
      }
      version = {
        max = "TLS12"
        min = "TLS10"
      }
    }
  }
  type = "MeshExternalService"
}
```

<!-- schema generated by tfplugindocs -->
## Schema

### Required

- `cp_id` (String) Id of the Konnect resource
- `mesh` (String) name of the mesh
- `name` (String) name of the MeshExternalService
- `spec` (Attributes) Spec is the specification of the Kuma MeshExternalService resource. (see [below for nested schema](#nestedatt--spec))
- `type` (String) the type of the resource. must be "MeshExternalService"

### Optional

- `labels` (Map of String) The labels to help identity resources

### Read-Only

- `creation_time` (String) Time at which the resource was created
- `modification_time` (String) Time at which the resource was updated
- `status` (Attributes) Status is the current status of the Kuma MeshExternalService resource. (see [below for nested schema](#nestedatt--status))
- `warnings` (List of String) warnings is a list of warning messages to return to the requesting Kuma API clients.
Warning messages describe a problem the client making the API request should correct or be aware of.

<a id="nestedatt--spec"></a>
### Nested Schema for `spec`

Required:

- `match` (Attributes) Match defines traffic that should be routed through the sidecar. (see [below for nested schema](#nestedatt--spec--match))

Optional:

- `endpoints` (Attributes List) Endpoints defines a list of destinations to send traffic to. (see [below for nested schema](#nestedatt--spec--endpoints))
- `extension` (Attributes) Extension struct for a plugin configuration, in the presence of an extension `endpoints` and `tls` are not required anymore - it's up to the extension to validate them independently. (see [below for nested schema](#nestedatt--spec--extension))
- `tls` (Attributes) Tls provides a TLS configuration when proxy is resposible for a TLS origination (see [below for nested schema](#nestedatt--spec--tls))

<a id="nestedatt--spec--match"></a>
### Nested Schema for `spec.match`

Required:

- `port` (Number) Port defines a port to which a user does request.

Optional:

- `protocol` (String) Protocol defines a protocol of the communication. Possible values: `tcp`, `grpc`, `http`, `http2`. Default: "tcp"; must be one of ["tcp", "grpc", "http", "http2"]
- `type` (String) Type of the match, only `HostnameGenerator` is available at the moment. Default: "HostnameGenerator"; must be "HostnameGenerator"


<a id="nestedatt--spec--endpoints"></a>
### Nested Schema for `spec.endpoints`

Optional:

- `address` (String) Address defines an address to which a user want to send a request. Is possible to provide `domain`, `ip`. Not Null
- `port` (Number) Port of the endpoint. Not Null


<a id="nestedatt--spec--extension"></a>
### Nested Schema for `spec.extension`

Required:

- `type` (String) Type of the extension.

Optional:

- `config` (String) Config freeform configuration for the extension. Parsed as JSON.


<a id="nestedatt--spec--tls"></a>
### Nested Schema for `spec.tls`

Optional:

- `allow_renegotiation` (Boolean) AllowRenegotiation defines if TLS sessions will allow renegotiation.
Setting this to true is not recommended for security reasons.
Default: false
- `enabled` (Boolean) Enabled defines if proxy should originate TLS. Default: false
- `verification` (Attributes) Verification section for providing TLS verification details. (see [below for nested schema](#nestedatt--spec--tls--verification))
- `version` (Attributes) Version section for providing version specification. (see [below for nested schema](#nestedatt--spec--tls--version))

<a id="nestedatt--spec--tls--verification"></a>
### Nested Schema for `spec.tls.verification`

Optional:

- `ca_cert` (Attributes) CaCert defines a certificate of CA. (see [below for nested schema](#nestedatt--spec--tls--verification--ca_cert))
- `client_cert` (Attributes) ClientCert defines a certificate of a client. (see [below for nested schema](#nestedatt--spec--tls--verification--client_cert))
- `client_key` (Attributes) ClientKey defines a client private key. (see [below for nested schema](#nestedatt--spec--tls--verification--client_key))
- `mode` (String) Mode defines if proxy should skip verification, one of `SkipSAN`, `SkipCA`, `Secured`, `SkipAll`. Default `Secured`. Default: "Secured"; must be one of ["SkipSAN", "SkipCA", "Secured", "SkipAll"]
- `server_name` (String) ServerName overrides the default Server Name Indicator set by Kuma.
- `subject_alt_names` (Attributes List) SubjectAltNames list of names to verify in the certificate. (see [below for nested schema](#nestedatt--spec--tls--verification--subject_alt_names))

<a id="nestedatt--spec--tls--verification--ca_cert"></a>
### Nested Schema for `spec.tls.verification.ca_cert`

Optional:

- `inline` (String) Data source is inline bytes.
- `inline_string` (String) Data source is inline string`
- `secret` (String) Data source is a secret with given Secret key.


<a id="nestedatt--spec--tls--verification--client_cert"></a>
### Nested Schema for `spec.tls.verification.client_cert`

Optional:

- `inline` (String) Data source is inline bytes.
- `inline_string` (String) Data source is inline string`
- `secret` (String) Data source is a secret with given Secret key.


<a id="nestedatt--spec--tls--verification--client_key"></a>
### Nested Schema for `spec.tls.verification.client_key`

Optional:

- `inline` (String) Data source is inline bytes.
- `inline_string` (String) Data source is inline string`
- `secret` (String) Data source is a secret with given Secret key.


<a id="nestedatt--spec--tls--verification--subject_alt_names"></a>
### Nested Schema for `spec.tls.verification.subject_alt_names`

Optional:

- `type` (String) Type specifies matching type, one of `Exact`, `Prefix`. Default: `Exact`. Default: "Exact"; must be one of ["Exact", "Prefix"]
- `value` (String) Value to match. Not Null



<a id="nestedatt--spec--tls--version"></a>
### Nested Schema for `spec.tls.version`

Optional:

- `max` (String) Max defines maximum supported version. One of `TLSAuto`, `TLS10`, `TLS11`, `TLS12`, `TLS13`. Default: "TLSAuto"; must be one of ["TLSAuto", "TLS10", "TLS11", "TLS12", "TLS13"]
- `min` (String) Min defines minimum supported version. One of `TLSAuto`, `TLS10`, `TLS11`, `TLS12`, `TLS13`. Default: "TLSAuto"; must be one of ["TLSAuto", "TLS10", "TLS11", "TLS12", "TLS13"]




<a id="nestedatt--status"></a>
### Nested Schema for `status`

Read-Only:

- `addresses` (Attributes List) Addresses section for generated domains (see [below for nested schema](#nestedatt--status--addresses))
- `hostname_generators` (Attributes List) (see [below for nested schema](#nestedatt--status--hostname_generators))
- `vip` (Attributes) Vip section for allocated IP (see [below for nested schema](#nestedatt--status--vip))

<a id="nestedatt--status--addresses"></a>
### Nested Schema for `status.addresses`

Read-Only:

- `hostname` (String)
- `hostname_generator_ref` (Attributes) (see [below for nested schema](#nestedatt--status--addresses--hostname_generator_ref))
- `origin` (String)

<a id="nestedatt--status--addresses--hostname_generator_ref"></a>
### Nested Schema for `status.addresses.hostname_generator_ref`

Read-Only:

- `core_name` (String)



<a id="nestedatt--status--hostname_generators"></a>
### Nested Schema for `status.hostname_generators`

Read-Only:

- `conditions` (Attributes List) Conditions is an array of hostname generator conditions. (see [below for nested schema](#nestedatt--status--hostname_generators--conditions))
- `hostname_generator_ref` (Attributes) (see [below for nested schema](#nestedatt--status--hostname_generators--hostname_generator_ref))

<a id="nestedatt--status--hostname_generators--conditions"></a>
### Nested Schema for `status.hostname_generators.conditions`

Read-Only:

- `message` (String) message is a human readable message indicating details about the transition.
This may be an empty string.
- `reason` (String) reason contains a programmatic identifier indicating the reason for the condition's last transition.
Producers of specific condition types may define expected values and meanings for this field,
and whether the values are considered a guaranteed API.
The value should be a CamelCase string.
This field may not be empty.
- `status` (String) status of the condition, one of True, False, Unknown. must be one of ["True", "False", "Unknown"]
- `type` (String) type of condition in CamelCase or in foo.example.com/CamelCase.


<a id="nestedatt--status--hostname_generators--hostname_generator_ref"></a>
### Nested Schema for `status.hostname_generators.hostname_generator_ref`

Read-Only:

- `core_name` (String)



<a id="nestedatt--status--vip"></a>
### Nested Schema for `status.vip`

Read-Only:

- `ip` (String) Value allocated IP for a provided domain with `HostnameGenerator` type in a match section.

## Import

Import is supported using the following syntax:

```shell
terraform import konnect_mesh_external_service.my_konnect_mesh_external_service "{ \"cp_id\": \"bf138ba2-c9b1-4229-b268-04d9d8a6410b\",  \"mesh\": \"\",  \"name\": \"\"}"
```
