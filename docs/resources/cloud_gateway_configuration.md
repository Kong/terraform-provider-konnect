---
# generated by https://github.com/hashicorp/terraform-plugin-docs
page_title: "konnect_cloud_gateway_configuration Resource - terraform-provider-konnect"
subcategory: ""
description: |-
  CloudGatewayConfiguration Resource
---

# konnect_cloud_gateway_configuration (Resource)

CloudGatewayConfiguration Resource

## Example Usage

```terraform
resource "konnect_cloud_gateway_configuration" "my_cloudgatewayconfiguration" {
  api_access        = "private+public"
  control_plane_geo = "us"
  control_plane_id  = "0949471e-b759-45ba-87ab-ee63fb781388"
  dataplane_groups = [
    {
      autoscale = {
        configuration_data_plane_group_autoscale_static = {
          instance_type       = "medium"
          kind                = "static"
          requested_instances = 3
        }
      }
      cloud_gateway_network_id = "36ae63d3-efd1-4bec-b246-62aa5d3f5695"
      environment = [
        {
          name  = "KONG_LOG_LEVEL"
          value = "info"
        }
      ]
      provider = "aws"
      region   = "us-east-2"
    }
  ]
  version = "3.2"
}
```

<!-- schema generated by tfplugindocs -->
## Schema

### Required

- `control_plane_geo` (String) Set of control-plane geos supported for deploying cloud-gateways configurations. must be one of ["us", "eu", "au", "me", "in", "sg"]
- `control_plane_id` (String)
- `dataplane_groups` (Attributes Set) List of data-plane groups that describe where to deploy instances, along with how many instances. (see [below for nested schema](#nestedatt--dataplane_groups))
- `version` (String) Supported gateway version.

### Optional

- `api_access` (String) Type of API access data-plane groups will support for a configuration. Default: "private+public"; must be one of ["private", "public", "private+public"]

### Read-Only

- `created_at` (String) An RFC-3339 timestamp representation of configuration creation date.
- `entity_version` (Number) Positive, monotonically increasing version integer, to serialize configuration changes.
- `id` (String) The ID of this resource.
- `updated_at` (String) An RFC-3339 timestamp representation of configuration update date.

<a id="nestedatt--dataplane_groups"></a>
### Nested Schema for `dataplane_groups`

Optional:

- `autoscale` (Attributes) Not Null (see [below for nested schema](#nestedatt--dataplane_groups--autoscale))
- `cloud_gateway_network_id` (String) Not Null
- `environment` (Attributes List) Array of environment variables to set for a data-plane group. (see [below for nested schema](#nestedatt--dataplane_groups--environment))
- `provider` (String) Name of cloud provider. Not Null; must be one of ["aws", "azure"]
- `region` (String) Region ID for cloud provider region. Not Null

Read-Only:

- `created_at` (String) An RFC-3339 timestamp representation of data-plane group creation date.
- `egress_ip_addresses` (List of String) List of egress IP addresses for the network that this data-plane group runs on.
- `id` (String) ID of the data-plane group that represents a deployment target for a set of data-planes.
- `private_ip_addresses` (List of String) List of private IP addresses of the internal load balancer that proxies traffic to this data-plane group.
- `state` (String) State of the data-plane group.
- `updated_at` (String) An RFC-3339 timestamp representation of data-plane group update date.

<a id="nestedatt--dataplane_groups--autoscale"></a>
### Nested Schema for `dataplane_groups.autoscale`

Optional:

- `configuration_data_plane_group_autoscale_autopilot` (Attributes) Object that describes the autopilot autoscaling strategy. (see [below for nested schema](#nestedatt--dataplane_groups--autoscale--configuration_data_plane_group_autoscale_autopilot))
- `configuration_data_plane_group_autoscale_static` (Attributes, Deprecated) Object that describes the static autoscaling strategy. Deprecated in favor of the autopilot autoscaling strategy. Static autoscaling will be removed in a future version. (see [below for nested schema](#nestedatt--dataplane_groups--autoscale--configuration_data_plane_group_autoscale_static))

<a id="nestedatt--dataplane_groups--autoscale--configuration_data_plane_group_autoscale_autopilot"></a>
### Nested Schema for `dataplane_groups.autoscale.configuration_data_plane_group_autoscale_autopilot`

Optional:

- `base_rps` (Number) Base number of requests per second that the deployment target should support. Not Null
- `kind` (String) Not Null; must be "autopilot"
- `max_rps` (Number, Deprecated) Max number of requests per second that the deployment target should support. If not set, this defaults to 10x base_rps. This field is deprecated and shouldn't be used in new configurations as it will be removed in a future version. max_rps is now calculated as 10x base_rps.


<a id="nestedatt--dataplane_groups--autoscale--configuration_data_plane_group_autoscale_static"></a>
### Nested Schema for `dataplane_groups.autoscale.configuration_data_plane_group_autoscale_static`

Optional:

- `instance_type` (String) Instance type name to indicate capacity. Not Null; must be one of ["small", "medium", "large"]
- `kind` (String) Not Null; must be "static"
- `requested_instances` (Number) Number of data-planes the deployment target will contain. Not Null



<a id="nestedatt--dataplane_groups--environment"></a>
### Nested Schema for `dataplane_groups.environment`

Optional:

- `name` (String) Name of the environment variable field to set for the data-plane group. Must be prefixed by KONG_. Not Null
- `value` (String) Value assigned to the environment variable field for the data-plane group. Not Null

## Import

Import is supported using the following syntax:

In Terraform v1.5.0 and later, the [`import` block](https://developer.hashicorp.com/terraform/language/import) can be used with the `id` attribute, for example:

```terraform
import {
  to = konnect_cloud_gateway_configuration.my_konnect_cloud_gateway_configuration
  id = "edaf40f9-9fb0-4ffe-bb74-4e763a6bd471"
}
```

The [`terraform import` command](https://developer.hashicorp.com/terraform/cli/commands/import) can be used, for example:

```shell
terraform import konnect_cloud_gateway_configuration.my_konnect_cloud_gateway_configuration "edaf40f9-9fb0-4ffe-bb74-4e763a6bd471"
```
