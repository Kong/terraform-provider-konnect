---
# generated by https://github.com/hashicorp/terraform-plugin-docs
page_title: "konnect_mesh_service Resource - terraform-provider-konnect"
subcategory: ""
description: |-
  MeshService Resource
---

# konnect_mesh_service (Resource)

MeshService Resource

## Example Usage

```terraform
resource "konnect_mesh_service" "my_meshservice" {
  cp_id         = "bf138ba2-c9b1-4229-b268-04d9d8a6410b"
  creation_time = "0001-01-01T00:00:00Z"
  labels = {
    key = "value",
  }
  mesh              = "...my_mesh..."
  modification_time = "0001-01-01T00:00:00Z"
  name              = "...my_name..."
  spec = {
    identities = [
      {
        type  = "ServiceTag"
        value = "...my_value..."
      }
    ]
    ports = [
      {
        app_protocol = "...my_app_protocol..."
        name         = "...my_name..."
        port         = 8
        target_port = {
          integer = 7
          str     = "...my_str..."
        }
      }
    ]
    selector = {
      dataplane_ref = {
        name = "...my_name..."
      }
      dataplane_tags = {
        key = "value",
      }
    }
    state = "Available"
  }
  status = {
    addresses = [
      {
        hostname = "...my_hostname..."
        hostname_generator_ref = {
          core_name = "...my_core_name..."
        }
        origin = "...my_origin..."
      }
    ]
    dataplane_proxies = {
      connected = 8
      healthy   = 6
      total     = 2
    }
    hostname_generators = [
      {
        conditions = [
          {
            message = "...my_message..."
            reason  = "...my_reason..."
            status  = "True"
            type    = "...my_type..."
          }
        ]
        hostname_generator_ref = {
          core_name = "...my_core_name..."
        }
      }
    ]
    tls = {
      status = "Ready"
    }
    vips = [
      {
        ip = "...my_ip..."
      }
    ]
  }
  type = "MeshService"
}
```

<!-- schema generated by tfplugindocs -->
## Schema

### Required

- `cp_id` (String) Id of the Konnect resource
- `mesh` (String) name of the mesh
- `name` (String) name of the MeshService
- `spec` (Attributes) Spec is the specification of the Kuma MeshService resource. (see [below for nested schema](#nestedatt--spec))
- `type` (String) the type of the resource. must be "MeshService"

### Optional

- `creation_time` (String) Time at which the resource was created
- `labels` (Map of String) The labels to help identity resources
- `modification_time` (String) Time at which the resource was updated
- `status` (Attributes) Status is the current status of the Kuma MeshService resource. (see [below for nested schema](#nestedatt--status))

### Read-Only

- `warnings` (List of String) warnings is a list of warning messages to return to the requesting Kuma API clients.
Warning messages describe a problem the client making the API request should correct or be aware of.

<a id="nestedatt--spec"></a>
### Nested Schema for `spec`

Optional:

- `identities` (Attributes List) (see [below for nested schema](#nestedatt--spec--identities))
- `ports` (Attributes List) (see [below for nested schema](#nestedatt--spec--ports))
- `selector` (Attributes) (see [below for nested schema](#nestedatt--spec--selector))
- `state` (String) State of MeshService. Available if there is at least one healthy endpoint. Otherwise, Unavailable.
It's used for cross zone communication to check if we should send traffic to it, when MeshService is aggregated into MeshMultiZoneService.
must be one of ["Available", "Unavailable"]

<a id="nestedatt--spec--identities"></a>
### Nested Schema for `spec.identities`

Optional:

- `type` (String) Not Null; must be "ServiceTag"
- `value` (String) Not Null


<a id="nestedatt--spec--ports"></a>
### Nested Schema for `spec.ports`

Optional:

- `app_protocol` (String) Protocol identifies a protocol supported by a service.
- `name` (String)
- `port` (Number) Not Null
- `target_port` (Attributes) (see [below for nested schema](#nestedatt--spec--ports--target_port))

<a id="nestedatt--spec--ports--target_port"></a>
### Nested Schema for `spec.ports.target_port`

Optional:

- `integer` (Number)
- `str` (String)



<a id="nestedatt--spec--selector"></a>
### Nested Schema for `spec.selector`

Optional:

- `dataplane_ref` (Attributes) (see [below for nested schema](#nestedatt--spec--selector--dataplane_ref))
- `dataplane_tags` (Map of String)

<a id="nestedatt--spec--selector--dataplane_ref"></a>
### Nested Schema for `spec.selector.dataplane_ref`

Optional:

- `name` (String)




<a id="nestedatt--status"></a>
### Nested Schema for `status`

Optional:

- `addresses` (Attributes List) (see [below for nested schema](#nestedatt--status--addresses))
- `dataplane_proxies` (Attributes) Data plane proxies statistics selected by this MeshService. (see [below for nested schema](#nestedatt--status--dataplane_proxies))
- `hostname_generators` (Attributes List) (see [below for nested schema](#nestedatt--status--hostname_generators))
- `tls` (Attributes) (see [below for nested schema](#nestedatt--status--tls))
- `vips` (Attributes List) (see [below for nested schema](#nestedatt--status--vips))

<a id="nestedatt--status--addresses"></a>
### Nested Schema for `status.addresses`

Optional:

- `hostname` (String)
- `hostname_generator_ref` (Attributes) (see [below for nested schema](#nestedatt--status--addresses--hostname_generator_ref))
- `origin` (String)

<a id="nestedatt--status--addresses--hostname_generator_ref"></a>
### Nested Schema for `status.addresses.hostname_generator_ref`

Optional:

- `core_name` (String) Not Null



<a id="nestedatt--status--dataplane_proxies"></a>
### Nested Schema for `status.dataplane_proxies`

Optional:

- `connected` (Number) Number of data plane proxies connected to the zone control plane
- `healthy` (Number) Number of data plane proxies with all healthy inbounds selected by this MeshService.
- `total` (Number) Total number of data plane proxies.


<a id="nestedatt--status--hostname_generators"></a>
### Nested Schema for `status.hostname_generators`

Optional:

- `conditions` (Attributes List) Conditions is an array of hostname generator conditions. (see [below for nested schema](#nestedatt--status--hostname_generators--conditions))
- `hostname_generator_ref` (Attributes) Not Null (see [below for nested schema](#nestedatt--status--hostname_generators--hostname_generator_ref))

<a id="nestedatt--status--hostname_generators--conditions"></a>
### Nested Schema for `status.hostname_generators.conditions`

Optional:

- `message` (String) message is a human readable message indicating details about the transition.
This may be an empty string.
Not Null
- `reason` (String) reason contains a programmatic identifier indicating the reason for the condition's last transition.
Producers of specific condition types may define expected values and meanings for this field,
and whether the values are considered a guaranteed API.
The value should be a CamelCase string.
This field may not be empty.
Not Null
- `status` (String) status of the condition, one of True, False, Unknown. Not Null; must be one of ["True", "False", "Unknown"]
- `type` (String) type of condition in CamelCase or in foo.example.com/CamelCase. Not Null


<a id="nestedatt--status--hostname_generators--hostname_generator_ref"></a>
### Nested Schema for `status.hostname_generators.hostname_generator_ref`

Optional:

- `core_name` (String) Not Null



<a id="nestedatt--status--tls"></a>
### Nested Schema for `status.tls`

Optional:

- `status` (String) must be one of ["Ready", "NotReady"]


<a id="nestedatt--status--vips"></a>
### Nested Schema for `status.vips`

Optional:

- `ip` (String)

## Import

Import is supported using the following syntax:

```shell
terraform import konnect_mesh_service.my_konnect_mesh_service "{ \"cp_id\": \"bf138ba2-c9b1-4229-b268-04d9d8a6410b\",  \"mesh\": \"\",  \"name\": \"\"}"
```
