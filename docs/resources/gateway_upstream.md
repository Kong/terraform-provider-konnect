---
# generated by https://github.com/hashicorp/terraform-plugin-docs
page_title: "konnect_gateway_upstream Resource - terraform-provider-konnect"
subcategory: ""
description: |-
  GatewayUpstream Resource
---

# konnect_gateway_upstream (Resource)

GatewayUpstream Resource



<!-- schema generated by tfplugindocs -->
## Schema

### Required

- `control_plane_id` (String) The UUID of your control plane. This variable is available in the Konnect manager.

### Optional

- `algorithm` (String) Which load balancing algorithm to use. must be one of ["consistent-hashing", "least-connections", "round-robin", "latency"]
- `client_certificate` (Attributes) If set, the certificate to be used as client certificate while TLS handshaking to the upstream server. (see [below for nested schema](#nestedatt--client_certificate))
- `hash_fallback` (String) What to use as hashing input if the primary `hash_on` does not return a hash (eg. header is missing, or no Consumer identified). Not available if `hash_on` is set to `cookie`. must be one of ["none", "consumer", "ip", "header", "cookie", "path", "query_arg", "uri_capture"]
- `hash_fallback_header` (String) The header name to take the value from as hash input. Only required when `hash_fallback` is set to `header`.
- `hash_fallback_query_arg` (String) The name of the query string argument to take the value from as hash input. Only required when `hash_fallback` is set to `query_arg`.
- `hash_fallback_uri_capture` (String) The name of the route URI capture to take the value from as hash input. Only required when `hash_fallback` is set to `uri_capture`.
- `hash_on` (String) What to use as hashing input. Using `none` results in a weighted-round-robin scheme with no hashing. must be one of ["none", "consumer", "ip", "header", "cookie", "path", "query_arg", "uri_capture"]
- `hash_on_cookie` (String) The cookie name to take the value from as hash input. Only required when `hash_on` or `hash_fallback` is set to `cookie`. If the specified cookie is not in the request, Kong will generate a value and set the cookie in the response.
- `hash_on_cookie_path` (String) The cookie path to set in the response headers. Only required when `hash_on` or `hash_fallback` is set to `cookie`.
- `hash_on_header` (String) The header name to take the value from as hash input. Only required when `hash_on` is set to `header`.
- `hash_on_query_arg` (String) The name of the query string argument to take the value from as hash input. Only required when `hash_on` is set to `query_arg`.
- `hash_on_uri_capture` (String) The name of the route URI capture to take the value from as hash input. Only required when `hash_on` is set to `uri_capture`.
- `healthchecks` (Attributes) (see [below for nested schema](#nestedatt--healthchecks))
- `host_header` (String) The hostname to be used as `Host` header when proxying requests through Kong.
- `name` (String) This is a hostname, which must be equal to the `host` of a Service.
- `slots` (Number) The number of slots in the load balancer algorithm. If `algorithm` is set to `round-robin`, this setting determines the maximum number of slots. If `algorithm` is set to `consistent-hashing`, this setting determines the actual number of slots in the algorithm. Accepts an integer in the range `10`-`65536`.
- `tags` (List of String) An optional set of strings associated with the Upstream for grouping and filtering.
- `use_srv_name` (Boolean) If set, the balancer will use SRV hostname(if DNS Answer has SRV record) as the proxy upstream `Host`.

### Read-Only

- `created_at` (Number) Unix epoch when the resource was created.
- `id` (String) The ID of this resource.
- `updated_at` (Number) Unix epoch when the resource was last updated.

<a id="nestedatt--client_certificate"></a>
### Nested Schema for `client_certificate`

Optional:

- `id` (String)


<a id="nestedatt--healthchecks"></a>
### Nested Schema for `healthchecks`

Optional:

- `active` (Attributes) (see [below for nested schema](#nestedatt--healthchecks--active))
- `passive` (Attributes) (see [below for nested schema](#nestedatt--healthchecks--passive))
- `threshold` (Number)

<a id="nestedatt--healthchecks--active"></a>
### Nested Schema for `healthchecks.active`

Optional:

- `concurrency` (Number)
- `headers` (Map of String)
- `healthy` (Attributes) (see [below for nested schema](#nestedatt--healthchecks--active--healthy))
- `http_path` (String)
- `https_sni` (String)
- `https_verify_certificate` (Boolean)
- `timeout` (Number)
- `type` (String) must be one of ["tcp", "http", "https", "grpc", "grpcs"]
- `unhealthy` (Attributes) (see [below for nested schema](#nestedatt--healthchecks--active--unhealthy))

<a id="nestedatt--healthchecks--active--healthy"></a>
### Nested Schema for `healthchecks.active.healthy`

Optional:

- `http_statuses` (List of Number)
- `interval` (Number)
- `successes` (Number)


<a id="nestedatt--healthchecks--active--unhealthy"></a>
### Nested Schema for `healthchecks.active.unhealthy`

Optional:

- `http_failures` (Number)
- `http_statuses` (List of Number)
- `interval` (Number)
- `tcp_failures` (Number)
- `timeouts` (Number)



<a id="nestedatt--healthchecks--passive"></a>
### Nested Schema for `healthchecks.passive`

Optional:

- `healthy` (Attributes) (see [below for nested schema](#nestedatt--healthchecks--passive--healthy))
- `type` (String) must be one of ["tcp", "http", "https", "grpc", "grpcs"]
- `unhealthy` (Attributes) (see [below for nested schema](#nestedatt--healthchecks--passive--unhealthy))

<a id="nestedatt--healthchecks--passive--healthy"></a>
### Nested Schema for `healthchecks.passive.healthy`

Optional:

- `http_statuses` (List of Number)
- `successes` (Number)


<a id="nestedatt--healthchecks--passive--unhealthy"></a>
### Nested Schema for `healthchecks.passive.unhealthy`

Optional:

- `http_failures` (Number)
- `http_statuses` (List of Number)
- `tcp_failures` (Number)
- `timeouts` (Number)


