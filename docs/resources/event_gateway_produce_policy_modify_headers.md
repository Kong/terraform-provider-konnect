---
# generated by https://github.com/hashicorp/terraform-plugin-docs
page_title: "konnect_event_gateway_produce_policy_modify_headers Resource - terraform-provider-konnect"
subcategory: ""
description: |-
  EventGatewayProducePolicyModifyHeaders Resource
---

# konnect_event_gateway_produce_policy_modify_headers (Resource)

EventGatewayProducePolicyModifyHeaders Resource

## Example Usage

```terraform
resource "konnect_event_gateway_produce_policy_modify_headers" "my_eventgatewayproducepolicymodifyheaders" {
  after     = "4fd8b3cf-0482-47d3-aff7-77cc9d77c4da"
  before    = "71291c2d-430e-44cd-ba95-03943f63fac7"
  condition = "record.value.content.foo.bar == \"a-value\""
  config = {
    actions = [
      {
        remove = {
          key = "...my_key..."
        }
      }
    ]
  }
  description = "...my_description..."
  enabled     = true
  gateway_id  = "9524ec7d-36d9-465d-a8c5-83a3c9390458"
  labels = {
    key = "value"
  }
  name               = "...my_name..."
  parent_policy_id   = "72c5778e-34a9-4e94-8979-28eb503453b5"
  virtual_cluster_id = "d146afe4-4af6-420a-9a5b-d37b93117501"
}
```

<!-- schema generated by tfplugindocs -->
## Schema

### Required

- `config` (Attributes) The configuration of the modify headers policy. (see [below for nested schema](#nestedatt--config))
- `gateway_id` (String) The UUID of your Gateway.
- `virtual_cluster_id` (String) The ID of the Virtual Cluster.

### Optional

- `after` (String) Determines the id of the existing policy the new policy should be inserted after. Either 'before' or 'after' can be provided, when both are omitted the new policy is added to the end of the chain. When both are provided, the request fails with a 400 Bad Request. Requires replacement if changed.
- `before` (String) Determines the id of the existing policy the new policy should be inserted before. Either 'before' or 'after' can be provided, when both are omitted the new policy is added to the end of the chain. When both are provided, the request fails with a 400 Bad Request. Requires replacement if changed.
- `condition` (String) A string containing the boolean expression that determines whether the policy is applied.

When the policy is applied as a child policy of schema_validation, the expression can also reference
`record.value` fields.
Default: ""
- `description` (String) A human-readable description of the policy. Default: ""
- `enabled` (Boolean) Whether the policy is enabled. Default: true
- `labels` (Map of String) Labels store metadata of an entity that can be used for filtering an entity list or for searching across entity types. 

Keys must be of length 1-63 characters, and cannot start with "kong", "konnect", "mesh", "kic", or "_".
- `name` (String) A unique user-defined name of the policy.
- `parent_policy_id` (String) The unique identifier of the parent schema validation policy, if any. Requires replacement if changed.

### Read-Only

- `created_at` (String) An ISO-8601 timestamp representation of entity creation date.
- `id` (String) The unique identifier of the policy.
- `updated_at` (String) An ISO-8601 timestamp representation of entity update date.

<a id="nestedatt--config"></a>
### Nested Schema for `config`

Optional:

- `actions` (Attributes List) Actions are run in sequential order and act on individual headers. (see [below for nested schema](#nestedatt--config--actions))

<a id="nestedatt--config--actions"></a>
### Nested Schema for `config.actions`

Optional:

- `remove` (Attributes) An action that removes a header by key. (see [below for nested schema](#nestedatt--config--actions--remove))
- `set` (Attributes) An action that sets a header key and value. (see [below for nested schema](#nestedatt--config--actions--set))

<a id="nestedatt--config--actions--remove"></a>
### Nested Schema for `config.actions.remove`

Required:

- `key` (String) The key of the header to remove.


<a id="nestedatt--config--actions--set"></a>
### Nested Schema for `config.actions.set`

Required:

- `key` (String) The key of the header to set.
- `value` (String) The value of the header to set.

## Import

Import is supported using the following syntax:

In Terraform v1.5.0 and later, the [`import` block](https://developer.hashicorp.com/terraform/language/import) can be used with the `id` attribute, for example:

```terraform
import {
  to = konnect_event_gateway_produce_policy_modify_headers.my_konnect_event_gateway_produce_policy_modify_headers
  id = jsonencode({
    gateway_id = "9524ec7d-36d9-465d-a8c5-83a3c9390458"
    id = "9524ec7d-36d9-465d-a8c5-83a3c9390458"
    virtual_cluster_id = "..."
  })
}
```

The [`terraform import` command](https://developer.hashicorp.com/terraform/cli/commands/import) can be used, for example:

```shell
terraform import konnect_event_gateway_produce_policy_modify_headers.my_konnect_event_gateway_produce_policy_modify_headers '{"gateway_id": "9524ec7d-36d9-465d-a8c5-83a3c9390458", "id": "9524ec7d-36d9-465d-a8c5-83a3c9390458", "virtual_cluster_id": "..."}'
```
