---
# generated by https://github.com/hashicorp/terraform-plugin-docs
page_title: "konnect_gateway_route_expression Resource - terraform-provider-konnect"
subcategory: ""
description: |-
  GatewayRouteExpression Resource
---

# konnect_gateway_route_expression (Resource)

GatewayRouteExpression Resource

## Example Usage

```terraform
resource "konnect_gateway_route_expression" "my_gatewayrouteexpression" {
  control_plane_id           = "9524ec7d-36d9-465d-a8c5-83a3c9390458"
  created_at                 = 4
  expression                 = "...my_expression..."
  https_redirect_status_code = 307
  id                         = "...my_id..."
  name                       = "...my_name..."
  path_handling              = "v0"
  preserve_host              = true
  priority                   = 6
  protocols = [
    "http"
  ]
  request_buffering  = false
  response_buffering = true
  service = {
    id = "...my_id..."
  }
  strip_path = true
  tags = [
    "..."
  ]
  updated_at = 8
}
```

<!-- schema generated by tfplugindocs -->
## Schema

### Required

- `control_plane_id` (String) The UUID of your control plane. This variable is available in the Konnect manager. Requires replacement if changed.

### Optional

- `created_at` (Number) Unix epoch when the resource was created.
- `expression` (String) Use Router Expression to perform route match. This option is only available when `router_flavor` is set to `expressions`.
- `https_redirect_status_code` (Number) The status code Kong responds with when all properties of a Route match except the protocol i.e. if the protocol of the request is `HTTP` instead of `HTTPS`. `Location` header is injected by Kong if the field is set to 301, 302, 307 or 308. Note: This config applies only if the Route is configured to only accept the `https` protocol. Default: 426; must be one of ["426", "301", "302", "307", "308"]
- `name` (String) The name of the Route. Route names must be unique, and they are case sensitive. For example, there can be two different Routes named "test" and "Test".
- `path_handling` (String) Controls how the Service path, Route path and requested path are combined when sending a request to the upstream. See above for a detailed description of each behavior. Default: "v0"; must be one of ["v0", "v1"]
- `preserve_host` (Boolean) When matching a Route via one of the `hosts` domain names, use the request `Host` header in the upstream request headers. If set to `false`, the upstream `Host` header will be that of the Service's `host`. Default: false
- `priority` (Number) Default: 0
- `protocols` (List of String) An array of the protocols this Route should allow. See the [Route Object](#route-object) section for a list of accepted protocols. When set to only `"https"`, HTTP requests are answered with an upgrade error. When set to only `"http"`, HTTPS requests are answered with an error.
- `request_buffering` (Boolean) Whether to enable request body buffering or not. With HTTP 1.1, it may make sense to turn this off on services that receive data with chunked transfer encoding. Default: true
- `response_buffering` (Boolean) Whether to enable response body buffering or not. With HTTP 1.1, it may make sense to turn this off on services that send data with chunked transfer encoding. Default: true
- `service` (Attributes) The Service this Route is associated to. This is where the Route proxies traffic to. (see [below for nested schema](#nestedatt--service))
- `strip_path` (Boolean) When matching a Route via one of the `paths`, strip the matching prefix from the upstream request URL. Default: true
- `tags` (List of String) An optional set of strings associated with the Route for grouping and filtering.
- `updated_at` (Number) Unix epoch when the resource was last updated.

### Read-Only

- `id` (String) The ID of this resource.

<a id="nestedatt--service"></a>
### Nested Schema for `service`

Optional:

- `id` (String)

## Import

Import is supported using the following syntax:

```shell
terraform import konnect_gateway_route_expression.my_konnect_gateway_route_expression '{"control_plane_id": "9524ec7d-36d9-465d-a8c5-83a3c9390458", "id": "a4326a41-aa12-44e3-93e4-6b6e58bfb9d7"}'
```
